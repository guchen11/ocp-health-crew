<p align="center">
  <img src="https://img.shields.io/badge/OpenShift-EE0000?style=for-the-badge&logo=redhatopenshift&logoColor=white" alt="OpenShift"/>
  <img src="https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white" alt="Python"/>
  <img src="https://img.shields.io/badge/Flask-000000?style=for-the-badge&logo=flask&logoColor=white" alt="Flask"/>
  <img src="https://img.shields.io/badge/KubeVirt-326CE5?style=for-the-badge&logo=kubernetes&logoColor=white" alt="KubeVirt"/>
  <img src="https://img.shields.io/badge/AI_Powered-FF6F00?style=for-the-badge&logo=tensorflow&logoColor=white" alt="AI"/>
</p>

<h1 align="center">ğŸ” CNV Health Crew</h1>

<p align="center">
  <strong>AI-Powered Performance Engineering & Health Monitoring for OpenShift + CNV</strong>
</p>

<p align="center">
  <em>ğŸ§  Self-Evolving AI that Learns from Bugs, Emails & the Web</em>
</p>

<p align="center">
  <a href="#-key-innovations">Key Innovations</a> â€¢
  <a href="#-features">Features</a> â€¢
  <a href="#-architecture">Architecture</a> â€¢
  <a href="#-self-evolving-ai">Self-Evolving AI</a> â€¢
  <a href="#-quick-start">Quick Start</a>
</p>

---

## ğŸš€ Key Innovations

<table>
<tr>
<td align="left" width="50%" style="background:linear-gradient(135deg,#4527a0,#311b92);color:white;padding:20px;">

### ğŸ§  Self-Evolving AI

**The system learns from multiple sources:**

- ğŸ« **Jira Bugs** - Discovers new tests from bug reports
- ğŸ“§ **Email** - Learns from team discussions & alerts
- ğŸŒ **Web** - Searches docs, forums & knowledge bases
- ğŸ¯ **Patterns** - Recognizes recurring issues
- â™¾ï¸ **Never stops** - Gets smarter with every run

</td>
<td align="left" width="50%" style="background:linear-gradient(135deg,#b71c1c,#880e4f);color:white;padding:20px;">

### âš¡ Performance Engineering

**Built for Performance Engineers:**

- ğŸ“Š **Resource profiling** - CPU, Memory, I/O per node
- ğŸ”¥ **Bottleneck detection** - Find hotspots instantly
- ğŸ“ˆ **Trend analysis** - Track performance over time
- âš ï¸ **Threshold alerts** - Proactive warnings at 85%+
- ğŸ¯ **Root cause analysis** - AI-powered deep investigation

</td>
</tr>
</table>

---

## ğŸ”„ How the AI Evolves

<table>
<tr>
<td align="center" colspan="5" style="background:#1565c0;color:white;padding:15px;">
<h3>ğŸ§¬ CONTINUOUS LEARNING CYCLE</h3>
<sub>The system automatically improves with every run</sub>
</td>
</tr>
<tr>
<td align="center" width="20%">
<h2>1ï¸âƒ£</h2>
ğŸ“¥<br><strong>Gather Intel</strong><br>
<sub>ğŸ« Jira bugs<br>ğŸ“§ Emails<br>ğŸŒ Web docs</sub>
</td>
<td align="center" width="20%">
<h2>2ï¸âƒ£</h2>
ğŸ”<br><strong>Analyze</strong><br>
<sub>AI identifies patterns<br>& recurring issues</sub>
</td>
<td align="center" width="20%">
<h2>3ï¸âƒ£</h2>
ğŸ’¡<br><strong>Suggest Tests</strong><br>
<sub>Proposes new health<br>checks to add</sub>
</td>
<td align="center" width="20%">
<h2>4ï¸âƒ£</h2>
âœ…<br><strong>Auto-Add</strong><br>
<sub>Approved tests join<br>the suite</sub>
</td>
<td align="center" width="20%">
<h2>5ï¸âƒ£</h2>
ğŸ§ <br><strong>Evolve</strong><br>
<sub>Knowledge grows<br>continuously</sub>
</td>
</tr>
</table>

### ğŸ¯ Real Example of AI Evolution

```
ğŸ“¥ Jira Bug: CNV-75962 "kubevirt-migration-controller OOMKilled at scale"

ğŸ¤– AI Analysis:
   â”œâ”€ Pattern detected: "OOMKilled" + "migration" + "scale"
   â”œâ”€ Component: kubevirt-migration-controller
   â””â”€ Priority: Critical

ğŸ’¡ AI Suggestion:
   "Add new health check: migration_controller_memory"
   - Monitor memory usage of migration controller pods
   - Alert when approaching limits
   - Track during large-scale migrations

âœ… Result: New test automatically added to suite!
```

---

## âœ¨ Features

<table>
<tr>
<td width="33%">

### ğŸ¥ Health Monitoring
- âœ… Node & Operator status
- âœ… Pod health detection
- âœ… KubeVirt/CNV components
- âœ… VM migrations & status
- âœ… Storage health (ODF/CSI)
- âœ… etcd cluster health
- âœ… Certificate expiration

</td>
<td width="33%">

### âš¡ Performance Engineering
- ğŸ“Š CPU utilization per node
- ğŸ“Š Memory pressure detection
- ğŸ“Š I/O bottleneck analysis
- ğŸ“Š Network throughput monitoring
- ğŸ“Š Resource quota tracking
- ğŸ“Š Capacity planning insights
- ğŸ“Š Historical trend comparison

</td>
<td width="33%">

### ğŸ§  AI Capabilities
- ğŸ¤– Self-evolving test suite
- ğŸ¤– Jira bug correlation
- ğŸ¤– Root cause analysis
- ğŸ¤– Pattern recognition
- ğŸ¤– Predictive alerting
- ğŸ¤– Auto-remediation suggestions
- ğŸ¤– Knowledge base learning

</td>
</tr>
</table>

---

## ğŸ— Architecture

<table>
<tr>
<td align="center" colspan="4" style="background:#1a237e;color:white;padding:15px;">
<h3>ğŸŒ WEB DASHBOARD (Flask:5000)</h3>
</td>
</tr>
<tr>
<td align="center" width="25%">ğŸ <br><strong>Dashboard</strong><br><sub>Stats & Status</sub></td>
<td align="center" width="25%">âš™ï¸<br><strong>Configure</strong><br><sub>Build Options</sub></td>
<td align="center" width="25%">ğŸ“‹<br><strong>History</strong><br><sub>Past Builds</sub></td>
<td align="center" width="25%">ğŸ“„<br><strong>Reports</strong><br><sub>HTML/MD View</sub></td>
</tr>
<tr><td align="center" colspan="4">â¬‡ï¸</td></tr>
<tr>
<td align="center" colspan="4" style="background:#6a1b9a;color:white;padding:15px;">
<h3>ğŸ§  SELF-EVOLVING AI ENGINE</h3>
<sub>Continuously learns from Jira bugs and adds new tests</sub>
</td>
</tr>
<tr>
<td align="center">ğŸ«<br><strong>Jira Learning</strong><br><sub>Bug patterns</sub></td>
<td align="center">ğŸ“§<br><strong>Email Learning</strong><br><sub>Team knowledge</sub></td>
<td align="center">ğŸŒ<br><strong>Web Learning</strong><br><sub>Docs & forums</sub></td>
<td align="center">ğŸ§ <br><strong>Knowledge Base</strong><br><sub>Growing database</sub></td>
</tr>
<tr><td align="center" colspan="4">â¬‡ï¸</td></tr>
<tr>
<td align="center" colspan="4" style="background:#2e7d32;color:white;padding:15px;">
<h3>âš¡ PERFORMANCE ENGINEERING ENGINE</h3>
</td>
</tr>
<tr>
<td align="center">ğŸ“Š<br><strong>Resource Profiler</strong><br><sub>CPU/Memory/IO</sub></td>
<td align="center">ğŸ”¥<br><strong>Bottleneck Detector</strong><br><sub>Hotspot analysis</sub></td>
<td align="center">ğŸ“ˆ<br><strong>Trend Analyzer</strong><br><sub>Historical data</sub></td>
<td align="center">âš ï¸<br><strong>Alert Engine</strong><br><sub>Threshold monitoring</sub></td>
</tr>
<tr><td align="center" colspan="4">â¬‡ï¸</td></tr>
<tr>
<td align="center" colspan="4" style="background:#e65100;color:white;padding:10px;">
<strong>ğŸ”Œ INTEGRATIONS</strong>
</td>
</tr>
<tr>
<td align="center">ğŸ«<br><strong>Jira MCP</strong><br><sub>Bug learning</sub></td>
<td align="center">ğŸ“§<br><strong>Gmail MCP</strong><br><sub>Email learning</sub></td>
<td align="center">ğŸŒ<br><strong>Web Search</strong><br><sub>Docs & forums</sub></td>
<td align="center">ğŸ¤–<br><strong>AI/LLM</strong><br><sub>Deep analysis</sub></td>
</tr>
<tr><td align="center" colspan="4">â¬‡ï¸</td></tr>
<tr>
<td align="center" colspan="4" style="background:#455a64;color:white;padding:10px;">
<strong>ğŸ” SSH LAYER (Paramiko)</strong><br>
<sub>Single persistent connection â€¢ Auto KUBECONFIG injection</sub>
</td>
</tr>
<tr><td align="center" colspan="4">â¬‡ï¸</td></tr>
<tr>
<td align="center" colspan="4" style="background:#c62828;color:white;padding:15px;">
<h3>â˜¸ï¸ OPENSHIFT CLUSTER</h3>
</td>
</tr>
<tr>
<td align="center">ğŸ–¥ï¸<br><strong>Nodes</strong></td>
<td align="center">ğŸ“¦<br><strong>Pods</strong></td>
<td align="center">âš™ï¸<br><strong>Operators</strong></td>
<td align="center">ğŸ’»<br><strong>VMs</strong></td>
</tr>
<tr>
<td align="center">ğŸ’¾<br><strong>Storage</strong></td>
<td align="center">ğŸ—„ï¸<br><strong>etcd</strong></td>
<td align="center">ğŸŒ<br><strong>Network</strong></td>
<td align="center">ğŸ”’<br><strong>Certs</strong></td>
</tr>
</table>

---

## ğŸ“Š Performance Engineering Details

<table>
<tr>
<td width="50%">

### ğŸ”¥ What We Monitor

| Metric | Threshold | Action |
|:-------|:----------|:-------|
| **CPU Usage** | >85% | âš ï¸ Alert + Analysis |
| **Memory Pressure** | >80% | âš ï¸ Alert + OOM Risk |
| **Disk I/O** | Latency >100ms | âš ï¸ Storage bottleneck |
| **Network** | Packet loss >1% | âš ï¸ Network issues |
| **etcd Latency** | >100ms | ğŸ”´ Critical alert |
| **Pod Density** | >50/node | âš ï¸ Capacity warning |

</td>
<td width="50%">

### ğŸ“ˆ Performance Insights

**AI-Powered Analysis:**
- ğŸ¯ Identifies resource hogs
- ğŸ¯ Predicts capacity issues
- ğŸ¯ Recommends optimizations
- ğŸ¯ Tracks degradation trends

**Actionable Reports:**
- ğŸ“Š "Node X is 92% CPU - consider spreading VMs"
- ğŸ“Š "Migration controller needs more memory"
- ğŸ“Š "etcd on slow disk - SSD recommended"

</td>
</tr>
</table>

---

## ğŸ§  Self-Evolving AI Details

### How It Works

<table>
<tr>
<td align="center" style="background:#2e7d32;color:white;padding:15px;">

**ğŸ« Learn from Bugs**

Scans Jira for CNV/OCP/ODF:
- Analyzes bug summaries
- Extracts error patterns
- Maps to components
- Tracks resolutions

Automatic test suggestions from bugs.

</td>
<td align="center" style="background:#1565c0;color:white;padding:15px;">

**ğŸ“§ Learn from Email**

Searches team communications:
- Alert notifications
- Incident discussions
- Troubleshooting threads
- Solution sharing

Captures tribal knowledge automatically.

</td>
<td align="center" style="background:#7b1fa2;color:white;padding:15px;">

**ğŸŒ Learn from Web**

Searches external sources:
- Red Hat documentation
- Knowledge base articles
- Community forums
- Release notes

Stays current with latest fixes.

</td>
</tr>
</table>

### ğŸ“ˆ Evolution Statistics

| Source | What It Learns |
|:-------|:---------------|
| ğŸ« **Jira** | CNV, OCPBUGS, ODF bug reports |
| ğŸ“§ **Email** | Team alerts, incident threads |
| ğŸŒ **Web** | Docs, forums, knowledge bases |

| Metric | Value |
|:-------|:------|
| ğŸ§  Knowledge base entries | 50+ known issues |
| ğŸ’¡ Auto-suggested checks | 10+ per scan |
| âœ… Current health checks | 17 categories |
| ğŸ”„ Learning frequency | Every build |

---

## ğŸ“¦ Components

### 1ï¸âƒ£ Web Dashboard

**`app/`** - Flask-based Jenkins-like UI (formerly `web_dashboard.py`, now modular)

| Page | Description |
|:-----|:------------|
| ğŸ  Dashboard | Stats, recent builds, live status |
| âš™ï¸ Configure | Select checks, set options |
| ğŸ“‹ History | Past builds with filtering |
| ğŸ“ Console | Real-time output streaming |
| ğŸ“„ Reports | View generated HTML reports |

### 2ï¸âƒ£ Health Check Engine

**`healthchecks/hybrid_health_check.py`** - Core diagnostic system

| Category | Checks | Status Indicators |
|:---------|:-------|:------------------|
| ğŸ—ï¸ **Infrastructure** | Nodes, Cluster Operators, etcd, MachineConfigPools | Ready/NotReady |
| ğŸ“¦ **Workloads** | Pods (CrashLoop, Pending, OOM, Unknown) | Running/Failed |
| ğŸ’» **Virtualization** | KubeVirt, VMs, VMIs, Migrations, virt-handler | Running/Migrating |
| ğŸ’¾ **Storage** | PVCs, CSI, DataVolumes, VolumeSnapshots, ODF | Bound/Pending |
| ğŸ“Š **Performance** | CPU, Memory, I/O per node | % utilization |
| ğŸš¨ **Monitoring** | Prometheus alerts | Firing/Resolved |

### 3ï¸âƒ£ AI Agent System

**`healthchecks/crewai_agents.py`** - CrewAI-based intelligent analysis

<table>
<tr>
<td align="center" colspan="3" style="background:#6a1b9a;color:white;padding:10px;">
<strong>ğŸ¤– AI CREW - Performance Engineering Team</strong>
</td>
</tr>
<tr>
<td align="center" width="33%">
ğŸ—ï¸<br><strong>Infra SRE</strong><br>
<sub>â€¢ Node health<br>â€¢ Operators<br>â€¢ etcd perf</sub>
</td>
<td align="center" width="33%">
ğŸ’»<br><strong>Virt Expert</strong><br>
<sub>â€¢ KubeVirt<br>â€¢ VM perf<br>â€¢ Migrations</sub>
</td>
<td align="center" width="33%">
ğŸ“Š<br><strong>Perf Engineer</strong><br>
<sub>â€¢ CPU analysis<br>â€¢ Memory profiling<br>â€¢ Bottlenecks</sub>
</td>
</tr>
<tr>
<td align="center" colspan="3">â¬‡ï¸<br>ğŸ§  <strong>Local LLM (Ollama llama3.2:3b)</strong></td>
</tr>
</table>

---

## âš¡ Quick Start

```bash
# 1ï¸âƒ£ Clone & Setup
cd cnv-health-crew
cp .env.example .env

# 2ï¸âƒ£ Configure credentials
nano .env
# Set: RH_LAB_HOST, RH_LAB_USER, SSH_KEY_PATH

# 3ï¸âƒ£ Start Dashboard
./scripts/start_dashboard.sh

# 4ï¸âƒ£ Open Browser â†’ http://localhost:5000

# 5ï¸âƒ£ Run with AI Evolution enabled
# Select "Full RCA" + "Jira Integration" in the UI
```

---

## âš™ï¸ Configuration

### Command Line Options

| Flag | Description |
|:-----|:------------|
| `--server <host>` | Override SSH target |
| `--ai` | Enable full AI root cause analysis |
| `--rca-bugs` | Bug matching only (faster) |
| `--rca-jira` | Search Jira for related bugs |
| `--check-jira` | **Enable AI evolution** - scan for new tests |
| `--email` | Send report via email |

---

## ğŸ”„ Build Process

<table>
<tr>
<td align="center" style="background:#1565c0;color:white;padding:10px;">âš¡<br><strong>Init</strong><br><sub>5%</sub></td>
<td align="center">â¡ï¸</td>
<td align="center" style="background:#1565c0;color:white;padding:10px;">ğŸ”Œ<br><strong>Connect</strong><br><sub>15%</sub></td>
<td align="center">â¡ï¸</td>
<td align="center" style="background:#1565c0;color:white;padding:10px;">ğŸ“¡<br><strong>Collect</strong><br><sub>50%</sub></td>
<td align="center">â¡ï¸</td>
<td align="center" style="background:#1565c0;color:white;padding:10px;">ğŸ”<br><strong>Analyze</strong><br><sub>75%</sub></td>
<td align="center">â¡ï¸</td>
<td align="center" style="background:#2e7d32;color:white;padding:10px;">ğŸ“<br><strong>Report</strong><br><sub>100%</sub></td>
</tr>
</table>

**AI Learning Sources:** ğŸ« Jira Bugs â†’ ğŸ“§ Team Emails â†’ ğŸŒ Web Docs â†’ ğŸ§  Knowledge Base â†’ ğŸ’¡ New Tests

---

## ğŸ”’ Security

| Aspect | Implementation |
|:-------|:---------------|
| ğŸ”‘ SSH Keys | Stored locally, never committed |
| ğŸ›¡ï¸ Command Validation | Only `oc`/`kubectl` allowed |
| ğŸ” KUBECONFIG | Injected per-command, not stored |
| ğŸ“¦ Process Isolation | Builds in separate process groups |

---

## ğŸš€ Roadmap

| ğŸ“… Planned | ğŸ’¡ Ideas |
|:-----------|:---------|
| â¬œ Scheduled evolution scans | â¬œ Slack/Teams alerts |
| â¬œ Performance trend graphs | â¬œ Prometheus metrics export |
| â¬œ Multi-cluster support | â¬œ Auto-remediation actions |
| â¬œ Custom check plugins | â¬œ ML-based anomaly detection |

---

<p align="center">
  <strong>ğŸ§  AI-Powered â€¢ âš¡ Performance Focused â€¢ ğŸ”„ Self-Evolving</strong>
</p>

<p align="center">
  <strong>Built with â¤ï¸ for Performance Engineers & SRE Teams</strong>
</p>

<p align="center">
  <sub>Document Version 1.1 â€¢ February 2026</sub>
</p>
